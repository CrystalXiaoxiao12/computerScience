# 操作系统是什么？功能？
操作系统是管理计算机硬件和软件资源的程序，它提供如下服务： 进程/线程创建删除调度等；存储分配管理；设备管理；文件管理；网络通信等。
# 用户态和内核态
用户态和内核态四CPU运行时的两种状态，用户态运行的程序不可以直接执行如内存访问等特权指令，而内核态运行的程序可以执行特权指令。之所以分为用户态和内核态，是为了保护计算机上一些关键资源不被破坏。
## 用户态如何切换到内核态
系统调用，异常处理（exception)， 中断（interrupt)。前两者是由用户态程序发起，后者是由外部发起的。
# 系统调用
运行在用户态的程序通过系统调用切换到内核态，从而执行特权指令。执行系统调用时，首先CPU会保存用户态的上下文，然后执行软中断（Trap）,切换到内核态，执行系统调用的内核函数，执行完毕后，切换到用户态，恢复用户态的上下文。

